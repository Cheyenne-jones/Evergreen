# -*- coding: utf-8 -*-
<%inherit file='base.html' />
<%namespace file='/oils/default/common/jubgrid.html' name='jubgrid'/>

<%def name='page_title()'>${_('View PO')}</%def>
<%def name='block_content()'>

<script>
    var poId = ${c.oils.acq.po_id.value};
</script>
<script src='${c.oils.core.media_prefix.value}/ui_js/oils/default/acq/po/view_po.js'> </script>
<script src='${c.oils.core.media_prefix.value}/js/dojo/openils/acq/Lineitems.js'> </script>

<div id='oils-acq-list-header' class='container'>
    <div id='oils-acq-list-header-label'>${_('PO Details')}</div>
</div>

<div dojoType="dijit.layout.ContentPane" layoutAlign="top">
    <div dojoType="dijit.layout.TabContainer">

        <div dojoType="dijit.layout.ContentPane" class='oils-acq-detail-content-pane' title="${_('Summary')}" selected='true'>
            <script type='dojo/connect' event='onShow'>loadPOGrid();</script>
            <script>
                var poGridStructure = [{
                    cells : [[
                        {name: '${_("ID")}', field: 'id'},
                        {name: '${_("Owner")}', get:getPOOwner},
                        {name: '${_("Ordering Agency")}', get:getOrgInfo},
                        {name: '${_("Create Time")}', field:'create_time', width:'auto', get:getDateTimeField},
                        {name: '${_("Edit Time")}', field: "edit_time", width:'auto', get:getDateTimeField},
                        {name: '${_("Provider")}', get:getProvider},
                        {name: '${_("# Lineitems")}', field: 'lineitem_count'},
                        {name: '${_("State")}', field:'state'}
                    ]]
                }];
            </script>
            <div jsId='poGrid' dojoType="dojox.Grid" structure='poGridStructure'> </div>
        </div>
        <div dojoType="dijit.layout.ContentPane" class='oils-acq-detail-content-pane' title="${_('Line Items')}">
            <script type='dojo/connect' event='onShow'>loadLIGrid();</script>
            ${jubgrid.jubgrid('oils-acq-lineitem', 'liGrid')}
        </div>
    </div>
</div>

</%def>
