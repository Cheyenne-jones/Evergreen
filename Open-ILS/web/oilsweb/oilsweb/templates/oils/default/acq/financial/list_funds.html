# -*- coding: utf-8 -*-
<%inherit file='../base.html'/>
<%namespace file='../../common/widgets.html' name='widget'/>
<%def name="page_title()">${_('Funds')}</%def>
<%def name="block_content()">

<div id='oils-acq-list-header' class='container'>
    <div id='oils-acq-list-header-label'>${_('Funds')}</div>
    <div id='oils-acq-list-header-actions'>
        <a href='${c.oils.acq.prefix.value}/fund/create'>${_('New Fund')}</a>
    </div>
</div>

<div id='oils-acq-fund-grid'> </div>
<script>
    dojo.require('openils.acq.Fund');

    /* define the layout columns */
    var cols = [
        {name: '${_("ID")}', field: 'id'},
        {name: '${_("Name")}', field: "name"}, 
        {name: '${_("Owner")}', field: "org"}, 
        {name: '${_("Year")}', field: "year"},
        {name: '${_("Currency Type")}', field: "currency_type"},
        {name: '${_("Balance")}', field: "combined_balance"}
    ];

    /* build the fund grid on page load */
    dojo.addOnLoad(function(){openils.acq.Fund.loadGrid('oils-acq-fund-grid', cols)});
</script>
</%def>
