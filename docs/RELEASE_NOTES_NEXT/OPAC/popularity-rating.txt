Popularity Boost for Ranking Search Results
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This feature uses factors such as  circulation and hold activity, record and item age, and item ownership counts to generate popularity badges for bibliographic
records. Each badge will have a five-point scale, where more points indicates a more popular record.  The average of the badge points earned by each record will constitute a "popularity rating". The number and types of badges will break ties for average popularity, and relevance will sort items with like popularity. 

A new sort axis of popularity is created to sort first on the weighted average popularity of each record, followed by the query-specific relevance available today.  A new option is created in the dropdown called _Most Popular_ that sorts on the combination of "activity metric" (aka badge ranking, aka popularity) first and then the existing, stock relevance ranking when those are equal.  For instance, given two records that both have a badge ranking of "4.5", they sort in the order of the query relevance ranking that is calculated today as a tie breaker.  Those two records will sort above other records with lower badge rankings regardless of what today's relevance ranking says about them.

In addition, a new sort axis of _Popularity-Adjusted Relevance_ is created that augments the normal Relevance sort with a normalized popularity value by multiplying the base relevance by a value controlled by a new global flag, generally set to a decimal number between 1 and 2.

Finally, there will continue to be a pure _Relevance_ sort option, which is the version that exists today.

Administrators can comment out one of the available sort methods by editing the
filtersort.tt2 file.A global flag will allow Evergreen sites to select a default sort method.

Badge Configuration
^^^^^^^^^^^^^^^^^^^

Administrative interfaces to configure badges are only available in the web
client. Administrators can also configure badges directly via the database. 	

Available Popluarity Parameters available for badges include:

* Holds Filled Over Time
* Holds Requested Over Time
* Current Hold Count
* Circulations Over Time
* Current Circulation Count
* Out/Total Ratio
* Holds/Total Ratio
* Holds/Holdable Ratio
* Percent of Time Circulating
* Bibliographic Record Age (days)
* Publication Age (days)
* Available On-Line (for e-books, etc)
* Copy Count

Badges can be configured to apply to a targeted group of bibliographic records
based on the following available filters:

* Record attribute
* Bibliographic source
* Circulation modifier
* Copy location group

Badges can also be be restricted to materials owned by a specific organiztional
unit.

This new feature comes with a starter badge based on the top 97th percentile of
holds requested over the past five years.

Display in the OPAC
+++++++++++++++++++

Ratings for records will be displayed in the catalog in the following ways:

* On the record result page, the overall average popularity rating is displayed with a label of _Popularity_.

* On the record detail page, each individual badge earned by the record is
displayed with its rating. 

New Global Flags
++++++++++++++++
* **OPAC Default Sort (opac.default_sort)**: Identifies the default sort method
to be used in the catlaog.

* **Maximum popularity importance multiplier for popularity-adjusted relevance
searches (search.max_popularity_importance_multiplier):** A multiplier identifying
the importance of popularity in the Popularity-Adjusted Relevance ranked 
searches. The number should be a decimal ranging between 1.0 and 2.0. The
default value is 1.1.

More detailed information is available TechRef docs directory in the
Evergreen source code.
