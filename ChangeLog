2010-12-02  phasefx

	* Open-ILS/xul/staff_client/server/admin/work_log.js: copy/paste-o.
	  Retrieve Patron in the patron log section of the Admin->Local
	  Admin->Work Log uses the right list now

2010-12-03  miker

	* Open-ILS/web/opac/skin/default/js/adv_global.js: Normalize spaces
	  in notcontains advance search query terms to address bug
	  https://bugs.launchpad.net/evergreen/+bug/677122

2010-12-03  senator

	* Open-ILS/web/js/dojo/openils/BibTemplate.js: Backport part of
	  r18912 from trunk
	  
	  BibTemplate: make a couple of IE-friendly changes to BibTemplate.

2010-12-03  miker

	* Open-ILS/web/js/dojo/MARC/Record.js: protect against empty
	  control fields (bad MARC)

	* Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql: The "All Subjects"
	  index never made it into 1.6, so we need it in the upgrade script

	* Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql: Moving bits around
	  and protecting against a pre-existing subject|complete index
	  definition that some sites have

2010-12-07  senator

	* Open-ILS/src/perlmods/OpenILS/Application/Serial.pm,
	  Open-ILS/web/js/dojo/openils/opac/nls/opac.js,
	  Open-ILS/web/opac/locale/en-US/opac.dtd,
	  Open-ILS/web/opac/skin/default/js/rdetail.js,
	  Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_summary.xml:
	  Backport r18931 from trunk
	  
	  Serials: When the fully compressed serial holdings are active in
	  the OPAC,
	  you get this "issues held" display with an expand/compress toggle
	  that will
	  either show you individual holdings (and allow you to place holds
	  on them)
	  or compressed holdings statements.
	  
	  The functionality existed in trunk before this commit, but this
	  cleans it up
	  and makes it better. It's more consistent with the the result
	  detail table,
	  it doesn't offer you the change to place holds on issues that
	  don't have
	  units (copy-equivalent objects), etc etc.

2010-12-08  dbwells

	* Open-ILS/src/perlmods/OpenILS/Utils/MFHD/Caption.pm: Add a simple
	  subfields_list() method to MFHD/Caption.pm to match that in
	  Holding.pm

	* Open-ILS/src/perlmods/OpenILS/Application/Serial.pm: Support for
	  predicting serials with no chronology caption

2010-12-08  senator

	* Open-ILS/src/perlmods/OpenILS/Application/Circ/Holds.pm,
	  Open-ILS/src/perlmods/OpenILS/Application/Serial.pm,
	  Open-ILS/web/opac/skin/default/js/holds.js: Backport r18800 from
	  trunk (I thought I already had! r18932 depends on it)
	  
	  Place holds on issuances from the OPAC. Also a couple very minor
	  API
	  documentation fixes.

2010-12-09  phasefx

	* Open-ILS/xul/staff_client/server/circ/util.js: transit isn't in
	  payload first time through with ROUTE_ITEM checkin, fallback on
	  check.org

	* Open-ILS/xul/staff_client/server/circ/util.js: big thinko. Going
	  by the stock receipt template, this should be the workstation
	  lib. Destination is handled by a different variable

2010-12-10  dbs

	* Open-ILS/src/perlmods/OpenILS/Application/SuperCat.pm: Give the
	  recent_changes list the ability to sort authority records
	  correctly
	  
	  We were always sorting by bibliographic record entry, which does
	  not
	  work all that well for authority records.

	* Open-ILS/src/perlmods/OpenILS/WWW/SuperCat.pm: Return authority
	  records for freshmeat when authority records are requested
	  
	  Previously, freshmeat was hardcoded to return bibliographic
	  records, even
	  when authority records were requested.

2010-12-10  miker

	* Open-ILS/src/sql/Pg/002.schema.config.sql,
	  Open-ILS/src/sql/Pg/011.schema.authority.sql,
	  Open-ILS/src/sql/Pg/012.schema.vandelay.sql,
	  Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql,
	  Open-ILS/src/sql/Pg/upgrade/0469.schema.authority-maint-trigger-funcs.sql:
	  Backporting r18957 from trunk:
	  
	  Fix two bugs:
	  * Wide Character warning in authority.generate_overlay_template
	  due to the generated template not being UTF-8 encoded internally
	  * Correctly test the same space-normalization form of the pre-
	  and post-strip records during the application of a replace rule
	  in vandelay.replace_field
	  
	  This addresses https://bugs.launchpad.net/evergreen/+bug/687996
	  for 2.0beta5

	* Open-ILS/web/js/dojo/openils/Util.js: Provide a mechanism to load
	  any random JS file via dojo.require()-ish syntax.
	  
	  Why would we want to do such a thing, you might ask?
	  
	  Well, the short answer is that Firefox hates pages that have more
	  than one script block (inline is worse than tag) that contains
	  pre-onLoad XHR. So, this allows us to pull the actual loading of
	  JS from the same domain as the page into an inline block. This
	  allows us to eliminate the WSOD on FF by pulling all (dangerous)
	  JS into a single, final inline block, after which we don't care
	  if the DOMContentLoaded event fires -- that's when it should
	  fire, structurally -- but in FF it may fire for a different
	  reason (bug) than it should (fell of the end of the page in the
	  rendering engine).

	* Open-ILS/src/perlmods/OpenILS/Utils/ModsParser.pm: Patch from
	  James Fournie to address
	  https://bugs.launchpad.net/evergreen/+bug/622908 wherein we learn
	  that related item physical description might be used as the main
	  PD of the main item, if the main item lacks such a field in the
	  MARC

