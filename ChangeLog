2010-12-10  miker

	* arg ... reverting version bump that got applied to the wrong
	  branch

2010-12-13  erickson

	* repaired order-by in update_hard_due_dates function to prevent
	  sql errors

	* repaired order-by in update_hard_due_dates function to prevent
	  sql errors

2010-12-13  miker

	* Backport of r18989: boolean test for hard due force flag

2010-12-13  gmc

	* regularize spelling of "fulfill"
	  
	  Based on patch by Steve Callender
	  
	  Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2010-12-13  senator

	* Serials: simple bug in batch receive. Certain field values got
	  treated
	  like strings sometimes when they weren't. No more.

2010-12-15  miker

	* Two bug fixes: 1) only allow one fine generator call per
	  circulation during a given transaction; 2) require that a
	  circulation be open, based on the xact_finish field, in order to
	  be the parent of a renewal (I suspect this used to depend on the
	  open-circ view)

2010-12-15  phasefx

	* augment the useragent for the xulrunner staff client

2010-12-15  dbs

	* Address the call number browsing performance problem raised in LP
	  690242
	  
	  The ORDER BY clause currently generated by call number browsing
	  does not
	  have a sufficient index to use to assist the sorting of the
	  returned rows,
	  and consequently does a sequential scan of the asset.call_number
	  table.
	  Which, as you can imagine, is not fast for a system with more
	  than a few
	  thousand call numbers.
	  
	  This adds an index specifically to enable the query to go back to
	  an
	  index scan instead of a sequential scan. We can investigate
	  whether other
	  indexes should be removed to enable efficient data loading once
	  we've
	  squashed the sequential scan problem.

2010-12-16  senator

	* Backport r18852, r19005 from trunk
	  
	  [18852] Serials: make some IDL changes and some changes to field
	  order in an
	  AutoGrid to support easier creation of working copy templates
	  with serials.
	  
	  [19005] Serials: the circ_lib field on a copy template has no
	  meaning in the
	  only context where these copy templates are used, which is
	  serials. Any
	  copy-like objects that are created in serials have their circ_lib
	  determined
	  by distribution.holding_lib
	  
	  So remove the circ_lib from the interface.

2010-12-17  erickson

	* dump() is a mozilla thing; use console.log instead

2010-12-17  dbs

	* Do an equality test, instead of assigning a value
	  
	  Thanks to Bill Erickson for catching this; this fixes a bug where
	  SuperCat requests would end up returning authority records
	  instead of
	  bibliographic records.

2010-12-17  senator

	* Backport r19013 from trunk
	  
	  Thanks to Sally Fortin for drawing attention to this bug, wherein
	  new
	  Holding Subfields can't be created in this interface via the
	  staff client.
	  
	  Acq: Tracked down a small but subtle bug with the Holding
	  Subfield tab of
	  the Provider editor interface.
	  
	  We apparently have a global variable "name" defined somewhere
	  which, when
	  assigned in place of an overrideWidget for an AutoGrid thanks to
	  some vestigial
	  code, ultimately causes an error from within AutoFieldWidget, if
	  you're using
	  the staff client. That's because name is the string
	  "browser_browser" in the
	  staff client, but if you access this interface from Firefox, name
	  is apparently
	  set to some value that evaluates to false in a boolean context,
	  because
	  AutoFieldWidget doesn't choke on it (the comparison at line 182
	  of that file
	  will return false).

2010-12-20  dbs

	* Provide starting context for authority browse in MARC Editor
	  context menu
	  
	  Using the browse interface instead of startwith provides a first
	  page
	  of results that shows some of the authority entries that precede
	  the
	  first alphabetical match for the chosen term. Context is good.

	* Display the tag of the displayed authority record in MARC Editor
	  context
	  
	  We currently display both 1xx and 5xx fields in the authority
	  record,
	  but do not display the tag. This can lead to some confusion when
	  a 5xx
	  field is actually present. Ergo, show the tag to disambiguate the
	  fields
	  in the authority browse selection interface.

	* Display the tag and indicators for authority records in the merge
	  box
	  
	  Also, avoid the risk of creating or stomping on global variables
	  by
	  using 'var' to declare our variables.
	  
	  Also, apply copyright statement for the International Institute
	  of
	  Social History. Thanks for sponsoring this contribution to
	  Evergreen!

	* Add an "Apply full authority" option to the MARC editor
	  
	  By definition, the only subfields that should be applied from an
	  authority record to a bibliographic record are the complete set
	  from the 1XX field of the authority record. So, rather than
	  forcing
	  the user to select the correct subfields from the chosen
	  authority
	  record, give them this handy shortcut to do the right thing.
	  
	  Also, add copyright / licensing header - hopefully accurate.

2010-12-20  senator

	* Acq: In fund propagation and rollover, add amounts as numbers,
	  not strings

2010-12-20  erickson

	* protect against null orig-location resulting in depth=-1 searches
	  after logout

2010-12-21  senator

	* Acq: Fix a bug where upon PO activation, lineitems in the
	  order-ready state
	  would stay there, rather than progressing to the on-order state

2010-12-21  dbs

	* Propagate merged authority record change to bibliographic record
	  
	  Launchpad bug 688015 reported that the merge of authority records
	  resulted in the control number identifier in a controlled field
	  in a bibliographic record changing to the right value, but the
	  value of the field itself wasn't being changed.
	  
	  The problem turned out to be a confusion of the "source" and
	  "target" values in the authority.merge_record() function. Once
	  that was straightened out, the merge updated the controlled
	  field as expected.

	* Add line feeds to the output of org_tree_proximity.pl
	  
	  When another routine was appended to autogen.sh, the output
	  was appended to the result string returned from
	  org_tree_proximity.pl;
	  adding a linefeed cleans that up.

2010-12-21  dbwells

	* 'Bindery' item status rethink - this status should eventually be
	  tracked at the unit level, not the item level.

	* For making predictions, remove some debug/dead code, refresh the
	  list.

2010-12-22  senator

	* OPAC/Serials: small aesthetic change to render held issues more
	  neatly

2010-12-23  miker

	* allow vandelay.replace_field() to handle a complex field spec by
	  splitting and looping; bringing 1.6.1-2.0 upgrade script up to
	  date

	* Patch from Nathanael Schilling protecting cstore/pcrud from
	  no-search-param segfaults (with minor editorializing)

	* .: Tagging 2.0-RC1 ... SO CLOSE I CAN TASTE IT!

