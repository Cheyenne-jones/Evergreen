Evergreen 2.1 release notes
===========================

Installation enhancements:
--------------------------
* `eg_db_config.pl` now has a `--create-database` option to automatically create
  the database and add the required contrib modules/extensions, rather than
  requiring users to carry out a number of error-prone manual steps.
* The OpenILS Perl modules are now installed in the system Perl package
  directories.  In prior versions, they were typically installed in 
  `/openils/lib/perl5`.
* README is now the single source of install instructions

Administration enhancements:
----------------------------
* Automatic client updates: It is now possible to build staff clients that,
  when they connect to the Evergreen server, automatically check to see if
  the staff client has been updated. If so, the staff client can download just
  the files that have been updated and replace those files in the existing
  staff client.
* Printing subsystem: Changes to the staff client should improve the print
  functionality (both speed and likelihood of success).
* To protect against exploits between a shared staff client session via
  operator change, add the requirement for the DEBUG_CLIENT permission to
  invoke debugging functions such as the Javascript Shell or DOM Inspector
   in the staff client.

Cataloging enhancements:
------------------------
* Unified copy / call number editor: The default holdings maintenance interface
  now enables cataloguers to edit copies and call numbers on a single screen.
* Call number prefixes and suffixes: While previous releases of Evergreen
  supported the automatic prepending or appending of prefixes and suffixes to
  call numbers based on their shelving location, the functionality was limited
  primarily to printing spine labels.  As of 2.1, you also have the option to
  assign prefixes or suffixes for individual call numbers; these will be
  displayed in the public catalogue and other interfaces, but prefixes in
  particular do not affect shelf browsing, which is based entirely on the
  label.
* Bibliographic parts: This feature adds the ability to designate specific
  "part" roles for the items attached to a given bibliographic record, such
  that a user can place holds on a specific kind of item without limiting it
  to an individual item. For example, libraries may assign parts to each DVD
  in a season of a popular TV show; or to individual volumes of an
  encyclopedia. This feature also introduces "part holds".
* Conjoined items: This feature adds the ability to associate a single barcode
  with multiple bibliographic records, so that the availability of those
  records is updated based on that copy. For example, libraries may make an
  electronic reader available for loan that is preloaded with 1000 electronic
  books; they can add 1000 bibliographic records to the library system and
  associate them all with a single barcode, so that when the electronic reader
  is signed out, the availability for all 1000 records changes to "Checked out".

Circulation improvements:
-------------------------
* Transfer selected holds to a different title: It is now possible to select
  multiple holds on a given title and transfer them to a different title.
  USE CASE?
* Mark patron as exempt from collections: It is now possible to mark a patron
  as being exempt from being sent to collections.
* Hold-driven recalls: It is now possible to define a loan
  period threshold (such as 60 days) so that if a hold is placed on an item with
  a loan period beyond that threshold, the system will automatically shorten the
  loan period to a specified value; change the fine rules; and send email
  notification to the person who currently holds the item saying "A hold has
  been placed on this item, get it back before <new_due_date>".

Public interface improvements:
------------------------------
* Spell-checking suggestions are now case-insensitive, to avoid generating
  terms which would yield the same result set.
* Part holds: patrons are guided to select a specific part if they are
  placing a hold on a bibliographic record that has parts assigned to its
  copies.
* Located URI visibility: Located URIs (856 fields with a subfield $9
  specifying the shortname of the owning library) now show up in a search with
  a context library of its owning library or below. For example, a Located URI
  with an owner of SYS1 WILL cause its record to show up in a search with a
  context OU of BR1 or SYS1, regardless of depth scoping.
* Set a JavaScript cache token when `autogen.sh` is run, so that a subsequent
  run of `autogen.sh` will automatically cause browsers to fetch refreshed
  copies of generated files.

New library settings:
---------------------
[options="header"]
|===============================
| Label | Description
| Cataloging: Default copy status (fast add)                               | Default status when a copy is created using the "Fast Add" interface.
| Cataloging: Default copy status (normal)                                 | Default status when a copy is created using the normal volume/copy creator interface.
| GUI: Default Hotkeyset                                                   | Default Hotkeyset for clients (filename without the .keyset).  Examples: Default, Minimal, and None
| GUI: Default showing suggested patron registration fields                | Instead of All fields, show just suggested fields in patron registration by default.
| GUI: Example for day_phone field on patron registration                  | The Example for validation on the day_phone field in patron registration.
| GUI: Example for email field on patron registration                      | The Example for validation on the email field in patron registration.
| GUI: Example for evening_phone field on patron registration              | The Example for validation on the evening_phone field in patron registration.
| GUI: Example for other_phone field on patron registration                | The Example for validation on the other_phone field in patron registration.
| GUI: Example for phone fields on patron registration                     | The Example for validation on phone fields in patron registration. Applies to all phone fields without their own setting.
| GUI: Example for post_code field on patron registration                  | The Example for validation on the post_code field in patron registration.
| GUI: Horizontal layout for Volume/Copy Creator/Editor.                   | The main entry point for this interface is in Holdings Maintenance, Actions for Selected Rows, Edit Item Attributes / Call Numbers / Replace Barcodes.  This setting changes the top and bottom panes for that interface into left and right panes.
| GUI: Regex for day_phone field on patron registration                    | The Regular Expression for validation on the day_phone field in patron registration.
| GUI: Regex for email field on patron registration                        | The Regular Expression for validation on the email field in patron registration.
| GUI: Regex for evening_phone field on patron registration                | The Regular Expression for validation on the evening_phone field in patron registration.
| GUI: Regex for other_phone field on patron registration                  | The Regular Expression for validation on the other_phone field in patron registration.
| GUI: Regex for phone fields on patron registration                       | The Regular Expression for validation on phone fields in patron registration. Applies to all phone fields without their own setting.
| GUI: Regex for post_code field on patron registration                    | The Regular Expression for validation on the post_code field in patron registration.
| GUI: Require county field on patron registration                         | The county field will be required on the patron registration screen.
| GUI: Require day_phone field on patron registration                      | The day_phone field will be required on the patron registration screen.
| GUI: Require dob field on patron registration                            | The dob field will be required on the patron registration screen.
| GUI: Require email field on patron registration                          | The email field will be required on the patron registration screen.
| GUI: Require evening_phone field on patron registration                  | The evening_phone field will be required on the patron registration screen.
| GUI: Require other_phone field on patron registration                    | The other_phone field will be required on the patron registration screen.
| GUI: Show active field on patron registration                            | The active field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show alert_message field on patron registration                     | The alert_message field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show alias field on patron registration                             | The alias field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show barred field on patron registration                            | The barred field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show calendar widget for dob field on patron registration           | If set the calendar widget will appear when editing the dob field on the patron registration form.
| GUI: Show claims_never_checked_out_count field on patron registration    | The claims_never_checked_out_count field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show claims_returned_count field on patron registration             | The claims_returned_count field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show day_phone field on patron registration                         | The day_phone field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show dob field on patron registration                               | The dob field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show email field on patron registration                             | The email field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show evening_phone field on patron registration                     | The evening_phone field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show ident_value field on patron registration                       | The ident_value field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show ident_value2 field on patron registration                      | The ident_value2 field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show juvenile field on patron registration                          | The juvenile field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show master_account field on patron registration                    | The master_account field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show other_phone field on patron registration                       | The other_phone field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show second_given_name field on patron registration                 | The second_given_name field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Show suffix field on patron registration                            | The suffix field will be shown on the patron registration screen. Showing a field makes it appear with required fields even when not required. If the field is required this setting is ignored.
| GUI: Suggest active field on patron registration                         | The active field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest alert_message field on patron registration                  | The alert_message field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest alias field on patron registration                          | The alias field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest barred field on patron registration                         | The barred field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest claims_never_checked_out_count field on patron registration | The claims_never_checked_out_count field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest claims_returned_count field on patron registration          | The claims_returned_count field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest day_phone field on patron registration                      | The day_phone field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest dob field on patron registration                            | The dob field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest email field on patron registration                          | The email field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest evening_phone field on patron registration                  | The evening_phone field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest ident_value field on patron registration                    | The ident_value field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest ident_value2 field on patron registration                   | The ident_value2 field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest juvenile field on patron registration                       | The juvenile field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest master_account field on patron registration                 | The master_account field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest other_phone field on patron registration                    | The other_phone field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest second_given_name field on patron registration              | The second_given_name field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Suggest suffix field on patron registration                         | The suffix field will be suggested on the patron registration screen. Suggesting a field makes it appear when suggested fields are shown. If the field is shown or required this setting is ignored.
| GUI: Unified Volume/Item Creator/Editor                                  | If true combines the Volume/Copy Creator and Item Attribute Editor in some instances.
| Printing: Custom Javascript File                                         | Full URL path to a Javascript File to be loaded when printing. Should implement a print_custom function for DOM manipulation. Can change the value of the do_print variable to false to cancel printing.
| Recalls: An array of fine amount, fine interval, and maximum fine.       | Recalls: An array of fine amount, fine interval, and maximum fine. For example, to specify a new fine rule of $5.00 per day, with a maximum fine of $50.00, use: [5.00,"1 day",50.00]
| Recalls: Circulation duration that triggers a recall.                    | Recalls: A hold placed on an item with a circulation duration longer than this will trigger a recall. For example, "14 days" or "3 weeks".
| Recalls: Truncated loan period.                                          | Recalls: When a recall is triggered, this defines the adjusted loan period for the item. For example, "4 days" or "1 week".
|===============================
